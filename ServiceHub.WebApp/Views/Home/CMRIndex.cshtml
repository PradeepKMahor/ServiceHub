@* @model ServiceHub.Models.ViewModels.ApplicationDashBored;
@using ServiceHub.Utility *@
@{
    ViewData["Title"] = "CMR Index";

}

@section Styles {
    <link href="@Url.Content("~/css/drome-style.css")" rel="stylesheet" type="text/css" asp-append-version="true" />
    <style>
        #tbGrid.table td, #tbGrid.table th {
            padding: 0.2rem !important;
        }
    </style>
}

<section>
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1 class="m-0">Corrective Maint Requests</h1>
            </div>
            <div class="col-sm-6 font-weight-bold">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item active ">CMR </li>
                    @* <li class="breadcrumb-item">
                    <a asp-action="CMRIndex" asp-controller="Home">CMR</a>
                    </li> *@
                    <li class="breadcrumb-item">
                        <a asp-action="PMRIndex" asp-controller="Home">PMR</a>
                    </li>
                    <li class="breadcrumb-item">
                        <a asp-action="WMRIndex" asp-controller="Home">WMR</a>
                    </li>
                </ol>
            </div>
        </div>
    </div>
    <hr />
    <div class="row">
        <div class="col-lg-3 col-6">

            <div class="small-box bg-info">
                <div class="inner">
                    <h3>102</h3>
                    <p><h4>CMR</h4></p>
                </div>
                <div class="icon">
                    <i class="ion ion-bag"></i>
                </div>
                <a href="#" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-3 col-6">

            <div class="small-box bg-success">
                <div class="inner">
                    <h3>102</h3>
                    <p><h4>Users</h4></p>
                </div>
                <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                </div>
                <a href="#" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
            </div>
        </div>
        <div class="col-lg-3 col-6">

            <div class="small-box bg-warning text-white">
                <div class="inner">
                    <h3>50</h3>
                    <p><h4>Costumers</h4></p>
                </div>
                <div class="icon">
                    <i class="ion ion-person-add"></i>
                </div>
                <a href="#" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
            </div>
        </div>
        <div class="col-md-4 col-xl-3">
            <div class="card card-tpl">
                <div class="card-header header-flex">
                    <h5>Service Requests</h5>
                    @*                     <span class="f-14 f-w-700"> &#10148; </span>
                    *@
                </div>
                <div class="card-block card-tile">
                    <a href="@Url.Action("Index", "ServiceRequest", new { Area = "ServiceRequests" })">
                        <div class="row align-items-center justify-content-center stretched-link">
                            <div class="col">
                                <h7 class="mb-2 f-w-300"> </h7>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-chart-bar f-20 text-white theme-teal"></i>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>



        <!-- ./col -->
    </div>
</section>
<hr />
<div class="col-sm-12">
    <div class="row">
        @* <div class="col-md-4 col-xl-3">
        <div class="card card-tpl">
        <div class="card-header header-flex">
        <h5>Masters</h5>

        </div>
        <div class="card-block card-tile">
        <a href="@Url.Action("Index", "Home", new { Area = "Masters" })">
        <div class="row align-items-center justify-content-center stretched-link">
        <div class="col">
        <h7 class="mb-2 f-w-300"> </h7>
        </div>
        <div class="col-auto">
        <i class="fas fa-chart-bar f-20 text-white theme-teal"></i>
        </div>
        </div>
        </a>
        </div>
        </div>
        </div>
        *@
        @* <div class="col-md-4 col-xl-3">
        <div class="card card-tpl">
        <div class="card-header header-flex">
        <h5>Service Requests</h5>

        </div>
        <div class="card-block card-tile">
        <a href="@Url.Action("Index", "ServiceRequest", new { Area = "ServiceRequests" })">
        <div class="row align-items-center justify-content-center stretched-link">
        <div class="col">
        <h7 class="mb-2 f-w-300"> </h7>
        </div>
        <div class="col-auto">
        <i class="fas fa-chart-bar f-20 text-white theme-teal"></i>
        </div>
        </div>
        </a>
        </div>
        </div>
        </div> *@

    </div>

</div>

<div class="col-sm-12">
    <div class="row">
        <div class="col-md-6 col-xl-4">
            <div class="card card-tpl">
                <div class="card-header header-flex" style="height:auto;">
                    <h5>CMR</h5>

                </div>
                <div class="card-block card-tile"
                     style="min-height: 250px!important; height: 250px!important; max-height: 250px!important; max-width: 100%; display: block;">
                    <div class="table-responsive" style="overflow:auto;height: 250px!important;">
                        <table id="tbGrid" class="table table-sm table-hover table-bordered" style="width:100%">
                            <thead class="bg-info text-white">
                                <tr role="row">
                                    <th>
                                        SRN
                                    </th>
                                    <th>Customer</th>
                                    <th>ERD</th>
                                    <th>Technician</th>

                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>  <a href="#">CMR-P000001</a></td>
                                    <td>ABC Pvt. LTD</td>
                                    <td>05/May/2024</td>
                                    <td>John Doe</td>
                                </tr>
                                <tr>
                                    <td>  <a href="#">CMR-P000002</a></td>
                                    <td>ABC Pvt. LTD</td>
                                    <td>05/May/2024</td>
                                    <td>John Doe</td>
                                </tr>
                                <tr>
                                    <td>  <a href="#">CMR-P000003</a></td>
                                    <td>ABC Pvt. LTD</td>
                                    <td>05/May/2024</td>
                                    <td>Jack</td>
                                </tr>
                                <tr>
                                    <td>  <a href="#">CMR-P000004</a></td>
                                    <td>ABC Pvt. LTD</td>
                                    <td>05/May/2024</td>
                                    <td>John Doe</td>
                                </tr>
                                <tr>
                                    <td>  <a href="#">CMR-P000005</a></td>
                                    <td>ABC Pvt. LTD</td>
                                    <td>05/May/2024</td>
                                    <td>Jack</td>
                                </tr>
                                <tr>
                                    <td>  <a href="#">CMR-P000006</a></td>
                                    <td>ABC Pvt. LTD</td>
                                    <td>05/May/2024</td>
                                    <td>Jack</td>
                                </tr>
                                <tr>
                                    <td>  <a href="#">CMR-P000007</a></td>
                                    <td>ABC Pvt. LTD</td>
                                    <td>05/May/2024</td>
                                    <td>Jack</td>
                                </tr>
                                <tr>
                                    <td>  <a href="#">CMR-P000008</a></td>
                                    <td>ABC Pvt. LTD</td>
                                    <td>05/May/2024</td>
                                    <td>Jack</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-xl-4">
            <div class="card card-tpl">
                <div class="card-header header-flex" style="height:auto;">
                    <h5>Status</h5>

                </div>
                <div class="card-block card-tile"
                     style="min-height: 250px!important; height: 250px!important; max-height: 250px!important; max-width: 100%; display: block;">

                    <canvas id="donutChart"
                            width="764"
                            height="250"
                            class="chartjs-render-monitor"></canvas>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-xl-4">
            <div class="card card-tpl">
                <div class="card-header header-flex" style="height:auto;">
                    <h5>SLAs</h5>

                </div>
                <div class="card-block card-tile"
                     style="min-height: 250px!important; height: 250px!important; max-height: 250px!important; max-width: 100%; display: block;">
                    <div class="small-box bg-info">
                        <div class=" row p-1 m-1">
                            <div class="col-6">
                                <div class="inner">
                                    <h3>20</h3>
                                    <p><h4>SLA Breached</h4></p>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="inner">
                                    <h3>35</h3>
                                    <p><h4>SLA Me</h4></p>
                                </div>
                            </div>

                        </div>

                        <a href="#" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-xl-4">
            <div class="card card-tpl">
                <div class="card-header header-flex" style="height:auto;">
                    <h5>
                        Priority
                        (Open/In-progress)
                    </h5>

                </div>
                <div class="card-block card-tile"
                     style="min-height: 250px!important; height: 250px!important; max-height: 250px!important; max-width: 100%; display: block;">
                    <div class="small-box bg-success">
                        <div class=" row p-1 m-1">
                            <div class="col-6">
                                <div class="inner">
                                    <h3>20</h3>
                                    <p><h4>High</h4></p>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="inner">
                                    <h3>35</h3>
                                    <p><h4>Low</h4></p>
                                </div>
                            </div>

                        </div>

                        <a href="#" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-xl-4">
            <div class="card card-tpl">
                <div class="card-header header-flex" style="height:auto;">
                    <h5>Defect Types</h5>

                </div>
                <div class="card-block card-tile"
                     style="min-height: 250px!important; height: 250px!important; max-height: 250px!important; max-width: 100%; display: block;">
                    <div class="chart">
                        <div class="chartjs-size-monitor"><div class="chartjs-size-monitor-expand"><div class=""></div></div><div class="chartjs-size-monitor-shrink"><div class=""></div></div></div>
                        <canvas id="barChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%; display: block; width: 764px;" width="764" height="250" class="chartjs-render-monitor"></canvas>
                    </div>

                </div>
            </div>
        </div>
        <div class="col-md-6 col-xl-4">
            <div class="card card-tpl">
                <div class="card-header header-flex" style="height:auto;">
                    <h5>Product With Most Requests</h5>

                </div>
                <div class="card-block card-tile"
                     style="min-height: 250px!important; height: 250px!important; max-height: 250px!important; max-width: 100%; display: block;">
                    <div class="chart">
                        <div class="chartjs-size-monitor"><div class="chartjs-size-monitor-expand"><div class=""></div></div><div class="chartjs-size-monitor-shrink"><div class=""></div></div></div>
                        <canvas id="stackedBarChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%; display: block; width: 764px;" width="764" height="250" class="chartjs-render-monitor"></canvas>
                    </div>
                </div>
            </div>
        </div>

    </div>

</div>
<div class="grey-bg container-fluid shadow border">
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");

    }

    <script type="text/javascript">

        $(function () {
            /* ChartJS
             * -------
             * Here we will create a few charts using ChartJS
             */

            //--------------
            //- AREA CHART -
            //--------------

            // Get context with jQuery - using jQuery's .get() method.

            var areaChartData = {
                labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
                datasets: [
                    {
                        label: 'Digital Goods',
                        backgroundColor: 'rgba(60,141,188,0.9)',
                        borderColor: 'rgba(60,141,188,0.8)',
                        pointRadius: false,
                        pointColor: '#3b8bba',
                        pointStrokeColor: 'rgba(60,141,188,1)',
                        pointHighlightFill: '#fff',
                        pointHighlightStroke: 'rgba(60,141,188,1)',
                        data: [28, 48, 40, 19, 86, 27, 90]
                    },
                    {
                        label: 'Electronics',
                        backgroundColor: 'rgba(210, 214, 222, 1)',
                        borderColor: 'rgba(210, 214, 222, 1)',
                        pointRadius: false,
                        pointColor: 'rgba(210, 214, 222, 1)',
                        pointStrokeColor: '#c1c7d1',
                        pointHighlightFill: '#fff',
                        pointHighlightStroke: 'rgba(220,220,220,1)',
                        data: [65, 59, 80, 81, 56, 55, 40]
                    },
                ]
            }

            var areaChartOptions = {
                maintainAspectRatio: false,
                responsive: true,
                legend: {
                    display: false
                },
                scales: {
                    xAxes: [{
                        gridLines: {
                            display: false,
                        }
                    }],
                    yAxes: [{
                        gridLines: {
                            display: false,
                        }
                    }]
                }
            }


            //-------------
            //- LINE CHART -
            //--------------

            //-------------
            //- DONUT CHART -
            //-------------
            // Get context with jQuery - using jQuery's .get() method.
            var donutChartCanvas = $('#donutChart').get(0).getContext('2d')
            var donutData = {
                labels: [
                    'Chrome',
                    'IE',
                    'FireFox',
                    'Safari',
                    'Opera',
                    'Navigator',
                ],
                datasets: [
                    {
                        data: [700, 500, 400, 600, 300, 100],
                        backgroundColor: ['#f56954', '#00a65a', '#f39c12', '#00c0ef', '#3c8dbc', '#d2d6de'],
                    }
                ]
            }
            var donutOptions = {
                maintainAspectRatio: false,
                responsive: true,
            }
            //Create pie or douhnut chart
            // You can switch between pie and douhnut using the method below.
            new Chart(donutChartCanvas, {
                type: 'doughnut',
                data: donutData,
                options: donutOptions
            })

            //-------------
            //- PIE CHART -
            //-------------
            // Get context with jQuery - using jQuery's .get() method.
            // var pieChartCanvas = $('#pieChart').get(0).getContext('2d')
            // var pieData = donutData;
            // var pieOptions = {
            //     maintainAspectRatio: false,
            //     responsive: true,
            // }
            // //Create pie or douhnut chart
            // // You can switch between pie and douhnut using the method below.
            // new Chart(pieChartCanvas, {
            //     type: 'pie',
            //     data: pieData,
            //     options: pieOptions
            // })

            //-------------
            //- BAR CHART -
            //-------------
            var barChartCanvas = $('#barChart').get(0).getContext('2d')
            var barChartData = $.extend(true, {}, areaChartData)
            var temp0 = areaChartData.datasets[0]
            var temp1 = areaChartData.datasets[1]
            barChartData.datasets[0] = temp1
            barChartData.datasets[1] = temp0

            var barChartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                datasetFill: false
            }

            new Chart(barChartCanvas, {
                type: 'bar',
                data: barChartData,
                options: barChartOptions
            })

            //---------------------
            //- STACKED BAR CHART -
            //---------------------
            var stackedBarChartCanvas = $('#stackedBarChart').get(0).getContext('2d')
            var stackedBarChartData = $.extend(true, {}, barChartData)

            var stackedBarChartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    xAxes: [{
                        stacked: true,
                    }],
                    yAxes: [{
                        stacked: true
                    }]
                }
            }

            new Chart(stackedBarChartCanvas, {
                type: 'bar',
                data: stackedBarChartData,
                options: stackedBarChartOptions
            })
        })
    </script>

}